---
title: "bigram_plots"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r, include=FALSE}
library(tidyverse)
library(tidytext)
library(stringr)
library(ggraph)
library(igraph)


twitter_merged_noRT <- read.csv("/home/shares/soilcarbon/Twitter/soc-twitter/twitter_merged_noRT.csv", stringsAsFactors = FALSE)
twitter_merged_noRT <- distinct(twitter_merged_noRT)

noRT <- twitter_merged_noRT %>% 
  filter(screen_name != "Pontifex") #remove the pope..

top_100_RT <- twitter_merged_noRT %>% 
  arrange(-retweet_count) %>% 
  head(100)



source("text_analysis_functions.R")
```


### Full dataset (noRT)
- # of bigrams set to >120
```{r, echo=F, fig.width=12}
####full dataset####
noRT_bigram <- create_bigram(noRT, "")
gram_network(noRT_bigram,120)
```
  
  ***  
    
  
          
### filtered for "soil health"
- # of bigrams set to >100
```{r, echo=F, fig.width=12}
###soil
soil_bigram <- create_bigram(noRT, "soil health")
gram_network(soil_bigram, 100)
```
  
  ***  
  
### filtered for "rangeland health"
- # of bigrams set to >1
```{r, echo=F, fig.width=12}
###rangeland
range_bigram <- create_bigram(noRT, "rangeland health")
gram_network(range_bigram, 1)
```
  
  ***  
  
### filtered for "forest health"
- not very informative 
```{r,include=F, echo=F, fig.width=12}
###forest
forest_bigram <- create_bigram(noRT, "forest health")
gram_network(forest_bigram, 0)
```
  
    
    
***
***
***

## top 100 RT  
  
  
### filtered for "soil"
- # of bigrams set to >2
```{r, echo=F, fig.width=12}
###soil
soil_100_bigram <- create_bigram(top_100_RT, "soil")
gram_network(soil_100_bigram, 2)
```
  
  ***  
  
### filtered for "rangeland"
- no hits
```{r, echo=F, fig.width=12}
###rangeland
# range_100_bigram <- create_bigram(top_100_RT, "rangeland")
# gram_network(range_bigram, 1)
```
  
  ***  
  
### filtered for "forest"
- # of bigrams set to >0
```{r,include=F, echo=F, fig.width=12}
###forest
forest_100_bigram <- create_bigram(top_100_RT, "forest")
gram_network(forest_100_bigram, 0)
```
